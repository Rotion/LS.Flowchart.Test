<UserControl
    x:Class="LS.Flowchart.ModuleControls.EndCharControl"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:LS.Flowchart.ModuleControls"
    xmlns:lsuc="clr-namespace:LS.WPF.Core.Library;assembly=LS.WPF.Core.Library"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    Width="230"
    Height="40"
    FontSize="20"
    mc:Ignorable="d">
    <Grid>
        <StackPanel
            HorizontalAlignment="Left"
            VerticalAlignment="Top"
            Orientation="Vertical">
            <lsuc:SquareCheckBox
                Margin="5,5,0,5"
                HorizontalAlignment="Left"
                VerticalAlignment="Center"
                Checked="SquareCheckBox_Checked"
                IsChecked="{Binding Path=IsStart, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=UserControl}}"
                Unchecked="SquareCheckBox_Unchecked" />
            <StackPanel
                HorizontalAlignment="Left"
                VerticalAlignment="Top"
                d:Visibility="Visible"
                Orientation="Vertical"
                Visibility="{Binding EndCharVis, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=UserControl}}">
                <TextBox
                    Width="{Binding Width, RelativeSource={RelativeSource AncestorType=UserControl}}"
                    Height="45"
                    HorizontalContentAlignment="Left"
                    VerticalContentAlignment="Center"
                    d:Text="/r/n"
                    Text="{Binding EndChar, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, RelativeSource={RelativeSource AncestorType=UserControl}}" />
                <StackPanel
                    Margin="5,5,0,0"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Center"
                    Orientation="Horizontal">
                    <Button Margin="2,0,0,0" Click="R_Click">
                        <Button.Template>
                            <ControlTemplate>
                                <Grid
                                    x:Name="_bg"
                                    Width="50"
                                    Height="30"
                                    Background="{DynamicResource DefaultGray}">
                                    <Border
                                        BorderBrush="Gray"
                                        BorderThickness="1"
                                        CornerRadius="3" />
                                    <TextBlock
                                        HorizontalAlignment="Center"
                                        VerticalAlignment="Center"
                                        FontSize="20"
                                        Text="\r" />
                                </Grid>
                                <ControlTemplate.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter TargetName="_bg" Property="Background" Value="{DynamicResource OrangeBrush}" />
                                    </Trigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Button.Template>
                    </Button>
                    <Button Margin="10,0,0,0" Click="N_Click">
                        <Button.Template>
                            <ControlTemplate>
                                <Grid
                                    x:Name="_bg"
                                    Width="50"
                                    Height="30"
                                    Background="{DynamicResource DefaultGray}">
                                    <Border
                                        BorderBrush="Gray"
                                        BorderThickness="1"
                                        CornerRadius="3" />
                                    <TextBlock
                                        HorizontalAlignment="Center"
                                        VerticalAlignment="Center"
                                        FontSize="20"
                                        Text="\n" />
                                </Grid>
                                <ControlTemplate.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter TargetName="_bg" Property="Background" Value="{DynamicResource OrangeBrush}" />
                                    </Trigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Button.Template>
                    </Button>
                    <Button Margin="10,0,0,0" Click="RN_Click">
                        <Button.Template>
                            <ControlTemplate>
                                <Grid
                                    x:Name="_bg"
                                    Width="80"
                                    Height="30"
                                    Background="{DynamicResource DefaultGray}">
                                    <Border
                                        BorderBrush="Gray"
                                        BorderThickness="1"
                                        CornerRadius="3" />
                                    <TextBlock
                                        HorizontalAlignment="Center"
                                        VerticalAlignment="Center"
                                        FontSize="20"
                                        Text="\r\n" />
                                </Grid>
                                <ControlTemplate.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter TargetName="_bg" Property="Background" Value="{DynamicResource OrangeBrush}" />
                                    </Trigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Button.Template>
                    </Button>
                </StackPanel>
            </StackPanel>
        </StackPanel>
    </Grid>
</UserControl>
