<Window
    x:Class="LS.Flowchart.Views.Settings.SoftSettingWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:LS.Flowchart.Views.Settings"
    xmlns:lsuc="clr-namespace:LS.WPF.Core.Library;assembly=LS.WPF.Core.Library"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    Title="设置"
    Width="800"
    Height="450"
    Background="Transparent"
    ResizeMode="NoResize"
    ShowInTaskbar="False"
    Topmost="True"
    WindowStartupLocation="CenterScreen"
    WindowStyle="None"
    mc:Ignorable="d">
    <Grid>
        <Border BorderBrush="{DynamicResource DefaultBackground}" BorderThickness="2" />
        <Grid Margin="2">
            <Grid.RowDefinitions>
                <RowDefinition Height="40" />
                <RowDefinition />
            </Grid.RowDefinitions>
            <Grid
                x:Name="winBar"
                Grid.Row="0"
                Background="{StaticResource DefaultBackground}">

                <TextBlock
                    Margin="3,0,0,0"
                    VerticalAlignment="Center"
                    FontSize="24"
                    FontWeight="Bold"
                    Foreground="{StaticResource DefaultForeground}"
                    Text="设置" />
                <lsuc:IconSmallButton
                    Width="40"
                    Height="40"
                    Margin="0,0,5,0"
                    HorizontalAlignment="Right"
                    VerticalAlignment="Center"
                    Background="{StaticResource DefaultBackground}"
                    Command="{Binding CloseCommand}"
                    IconType="Close"
                    MouseOverBrush="{DynamicResource OrangeBrush}"
                    PathMargin="5" />
                <Border
                    Margin="0,2,0,0"
                    BorderBrush="{DynamicResource OrangeBrush}"
                    BorderThickness="0,2,0,0" />
            </Grid>
            <Grid Grid.Row="1" Background="{StaticResource DefaultGray}">
                <Grid.Resources>
                    <Style x:Key="title" TargetType="TextBlock">
                        <Setter Property="FontSize" Value="20" />
                        <Setter Property="Margin" Value="5" />
                        <Setter Property="HorizontalAlignment" Value="Left" />
                        <Setter Property="VerticalAlignment" Value="Center" />
                        <Setter Property="FontWeight" Value="Bold" />
                        <Setter Property="Foreground" Value="Black" />
                    </Style>
                    <Style x:Key="span" TargetType="StackPanel">
                        <Setter Property="Margin" Value="5,10,0,10" />
                    </Style>
                </Grid.Resources>
                <Grid.RowDefinitions>
                    <RowDefinition />
                    <RowDefinition Height="40" />
                </Grid.RowDefinitions>

                <StackPanel Grid.Row="0" Orientation="Vertical">
                    <StackPanel Orientation="Horizontal" Style="{DynamicResource span}">
                        <TextBlock Style="{StaticResource title}" Text="显示欢迎页" />
                        <lsuc:SquareCheckBox
                            Margin="10,0,0,0"
                            IsChecked="{Binding ShowInitWindow, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                            TrueColor="{StaticResource OrangeBrush}" />
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" Style="{DynamicResource span}">
                        <TextBlock Style="{StaticResource title}" Text="开机自启" />
                        <lsuc:SquareCheckBox
                            Margin="10,0,0,0"
                            IsChecked="{Binding IsAutoStart, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                            TrueColor="{StaticResource OrangeBrush}" />
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" Style="{DynamicResource span}">
                        <TextBlock Style="{StaticResource title}" Text="延时启动" />
                        <lsuc:LSNumber
                            Width="200"
                            Height="40"
                            Margin="5,0,0,0"
                            MinValue="0"
                            PathBrush="DarkGray"
                            PathMargin="10"
                            Precision="0"
                            Step="1"
                            Value="{Binding DelayStart, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" Style="{DynamicResource span}">
                        <TextBlock Style="{StaticResource title}" Text="关闭设置" />
                        <lsuc:CommonRadioButton
                            Width="150"
                            Margin="5,0,0,0"
                            Background="Transparent"
                            Content="后台运行"
                            Foreground="Black"
                            GroupName="CloseSetting"
                            IsChecked="{Binding IsBackgrounder, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                        <lsuc:CommonRadioButton
                            Width="280"
                            Margin="10,0,0,0"
                            Background="Transparent"
                            Content="退出软件，关闭运行"
                            GroupName="CloseSetting"
                            IsChecked="{Binding IsDirectClose, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                    </StackPanel>
                </StackPanel>

                <lsuc:CommonButton
                    Grid.Row="1"
                    Width="80"
                    Height="30"
                    Margin="0,0,10,0"
                    HorizontalAlignment="Right"
                    VerticalAlignment="Center"
                    HorizontalContentAlignment="Center"
                    VerticalContentAlignment="Center"
                    Background="{DynamicResource DefaultForeground}"
                    Command="{Binding ConfirmCommand}"
                    Content="确定"
                    CornerRadius="5"
                    Foreground="{DynamicResource OrangeBrush}" />
            </Grid>
        </Grid>
    </Grid>
</Window>
